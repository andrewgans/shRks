---
title: "sharkie"
author: "shRks"
date: "2023-12-04"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(MuMIn)
library(rgbif)
library(data.table)
```

#Question:

Does change in surface water temperature affect shark migration patterns?

# Delineating the area of interest:

Used "measure a distance" tool in google maps to determine a rectangle encompassing the region we were interested in (see screenshot) Bottom left coordinates: 41.02923, -71.72927 Top left coordinates: 45.11812, -71.74585 Top right coordinates: 45.11812, -66.06430 Bottom right coordinates: 40.99269, -66.12886

![Screenshot of region of interest](northeastregion.png)
# Determining species that are migratory and pass through this region:

```{r finding potential species}
potspp <- occ_data(scientificName = "Elasmobranchii", basisOfRecord = "HUMAN_OBSERVATION", year = "2000","2023", )
potspp
```



```{r}
spp <- c("Carcharodon carcharias", "Galeocerdo cuvier", "Carcharinus leucas")
y <- paste0("1990",",","2019")
m <- paste0("6",",","10")

dat.l <-list()

for(s in spp){
  n.obs <-  occ_data(scientificName = s, year = y, month = m, limit = 0, country="US", basisOfRecord = "HUMAN_OBSERVATION")$meta$count 

dat.l[[paste0(s)]] <- occ_data(scientificName = s,year=y,month=m,
                               limit=n.obs, country="US",
                               basisOfRecord = "HUMAN_OBSERVATION",)[[2]]

}

dat <- rbindlist(dat.l,fill=T)

dat%>%
  group_by(year,species)%>%
  summarise(count=sum(individualCount,na.rm = T))%>%
  ggplot(aes(x=year,y=count,col=species))+geom_point()



shortmako <- occ_data(scientificName = "Isurus oxyrinchus", continent = "NORTH_AMERICA", limit=1000, basisOfRecord = "HUMAN_OBSERVATION")[[2]]


shortmako%>%
  group_by(year)%>%
  summarise(count=sum(individualCount,na.rm = T))%>%
  ggplot(aes(x=year,y=count))+geom_point()

view(shortmako)
```

```{r spatial analysis}

```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
